<?xml version="1.0" encoding="utf-8"?>
<configuration xmlns:patch="http://www.sitecore.net/xmlconfig/" xmlns:role="http://www.sitecore.net/xmlconfig/role/">
  <sitecore role:require="Standalone or ContentManagement or ContentDelivery">
    <settings>
      <setting name="Cairngorm.SearchField" value="_content" />
      <setting name="Cairngorm.SearchTemplates" value="" />
      <setting name="Cairngorm.StoredItemCount" value="20" />
      <setting name="Cairngorm.BoostMultiplicand" value="1" />
      <setting name="Cairngorm.FilterStoredItems" value="false" />
      <setting name="Cairngorm.FilterContextItem" value="true" />
      <setting name="Cairngorm.Cookie.Name" value="tagbaserec_items" />
      <setting name="Cairngorm.Cookie.Lifespan" value="30" />
      <setting name="Cairngorm.Cookie.Domain" value="" />
      <setting name="Cairngorm.Cookie.Path" value="/" />
      <setting name="Cairngorm.Cookie.Secure" value="true" />
      <setting name="Cairngorm.Cookie.HttpOnly" value="true" />
    </settings>
    <pipelines>
      <httpRequestBegin>
        <processor patch:after="processor[@type='Sitecore.Pipelines.HttpRequest.ItemResolver, Sitecore.Kernel']"
                   type="Cairngorm.Pipelines.QueueItemForRecommendation, Cairngorm" />
      </httpRequestBegin>
    </pipelines>
    <services>
      <register serviceType="Cairngorm.Services.IItemTagsResolver, Cairngorm"
                implementationType="Cairngorm.Services.DefaultItemTagsResolver, Cairngorm"
                lifetime="Transient"/>
      <register serviceType="Cairngorm.Services.IRecommendationService, Cairngorm"
                implementationType="Cairngorm.Services.DefaultRecommendationService`1[[Sitecore.ContentSearch.SearchTypes.SearchResultItem, Sitecore.ContentSearch]], Cairngorm"
                lifetime="Transient"/>
    </services>
  </sitecore>
</configuration>
